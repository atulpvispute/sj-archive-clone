.book-page-common {
  position: relative;
  padding: 50px 20vw;
  // padding: 0 20vw 50px 20vw;
  min-height: 100vh;
  .hr-top {
    position: absolute;
    top: 0;
    width: 100%;
    color: transparent;
  } 
  .hr-bottom {
    position: absolute;
    bottom: 0;
    width: 100%;
    color: transparent;
  }
  // border-top: 1px solid blue;
  // border-bottom: 1px solid red;

}

.book-main {
  // Chapter Display
  .chapter-display {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1001; // Above other elements
    padding: 8px 16px;
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    border-radius: 4px;
    font-size: 14px;
    font-weight: 500;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
    pointer-events: none; // Don't interfere with interactions

    &.visible {
      opacity: 1;
    }
  }

  // Vertical Scroll Progress Bar Container with Hover Area
  .scroll-progress-bar {
    position: fixed;
    top: 10vh; // Start at 10% from top to achieve 80% height
    right: 0; // Extend to edge for larger hover area
    width: 100px; // Larger hover area
    height: 80vh;
    z-index: 1000;
    // cursor: pointer; // Make it clear that it's clickable
    user-select: none; // Prevent text selection during drag
    opacity: 0; // Hidden by default
    transition: opacity 0.3s ease-in-out; // Smooth fade in/out

    // Show progress bar on hover
    &:hover {
      opacity: 1;

      &::before {
        width: 8px; // Wider on hover
        right: 20px; // Adjust position to center the expansion
      }

      .scroll-progress-fill {
        width: 8px; // Wider on hover
        right: 20px; // Adjust position to center the expansion
      }
    }

    // Also show when dragging
    &.dragging {
      opacity: 1;

      &::before {
        width: 8px; // Wider when dragging
        right: 20px; // Adjust position to center the expansion
      }

      .scroll-progress-fill {
        width: 8px; // Wider when dragging
        right: 20px; // Adjust position to center the expansion
      }
    }

    // Show when scrolling (controlled by component)
    &.visible {
      opacity: 1;
    }

    // Create the actual progress bar track
    &::before {
      content: '';
      position: absolute;
      top: 0;
      right: 22px; // Distance from edge - adjusted for centering
      width: 4px;
      height: 100%;
      background-color: #ccc; //grey// Grey background
      transition: width 0.3s ease-in-out, right 0.3s ease-in-out; // Smooth width and position transition
      transform-origin: center; // Ensure scaling from center
    }

    .scroll-progress-fill {
      position: absolute;
      top: 0;
      right: 22px; // Distance from edge - adjusted for centering
      width: 4px;
      background-color: #007bff; // Blue fill color
      transition: height 0.1s ease-out, width 0.3s ease-in-out, right 0.3s ease-in-out; // Smooth height, width and position transitions
      height: 0%; // Start with 0% height
      transform-origin: center; // Ensure scaling from center
    }
  }

  .full-book {
    transform-origin: 50% top;
    transition: transform 0.3s ease-in-out;

    &.drag-scaling {
      transform: scale(0.28);
    }
  }

  .book-section {
    // border: 1px solid red;
    [gray] {
      @extend .book-page-common;
      background-color: #646464;
      color: white;
    }

    [blue] {
      @extend .book-page-common;
      background-color: #008bd6;
      color: black;
    }

    [black] {
      @extend .book-page-common;
      background-color: black;
      color: white;
    }

    [white] {
      @extend .book-page-common;
      background-color: white;
      color: black;
    }


    // 
    // [pink] {
    //   @extend .book-page-common;
    //   background-color: pink;
    //   color: black;
    // }

    // [green] {
    //   @extend .book-page-common;
    //   background-color: lightgreen;
    //   color: black;
    // }
  }

  // Center align book-page elements
  .book-page {
    display: flex;
    flex-direction: column;
    justify-content: center;
    
    // Center all content within book-page
    .page-content {
      width: 100%;
      height: 100%;
    }
    &.center {
      text-align: center;
    }
  }
}
